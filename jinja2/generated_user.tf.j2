module "{{user_name}}" {
  source = "./modules/user"
  
  user_name = "{{user_name}}"
  password = "{{password}}"
  airflow_port = var.airflow_port
  jupyter_port = var.jupyter_port
  jupyter_visit_port = 8000 + {{user_number}}
  airflow_visit_port = 9000 + {{user_number}}
  aws_alb_main_arn = module.shared.aws_alb_main_arns[{{load_balancer_number}}]
  aws_alb_listener_fixed_response_arn = module.shared.aws_alb_listener_fixed_response_arns[{{load_balancer_number}}]
  vpc_id = module.shared.vpc_id
  subnet_ids = module.shared.subnet_ids
  load_balancer_security_group_id = module.shared.load_balancer_security_group_id
  ecs_security_group_id = module.shared.ecs_security_group_id
  rds_security_group_id = module.shared.rds_security_group_id
  iam_instance_profile_name = module.shared.iam_instance_profile_name
  container_instance_security_group_id = module.shared.container_instance_security_group_id
  aws_region = data.terraform_remote_state.rds.outputs.aws_region
  ecs_cluster = module.shared.ecs_cluster
  log_group_name = module.shared.log_group_name
  ecs_task_execution_role_arn = module.shared.ecs_task_execution_role_arn
  rds_host = data.terraform_remote_state.rds.outputs.rds_host
  rds_port = data.terraform_remote_state.rds.outputs.rds_port
}